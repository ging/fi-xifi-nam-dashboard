<!DOCTYPE html>

<script type="text/javascript">
<% var interval = isAvaliableSource.interval %>
<%var transfer = isAvaliableSource.transfer %>
<%var banwidth = isAvaliableSource.banwidth %>
<%var average=((banwidth[0]+banwidth[1]+banwidth[2]+banwidth[3]+banwidth[4])/5).toPrecision(3)%>

$(function () {	
      $('#results_graph').highcharts({
            chart: {
                type: 'areaspline'
            },
            title: {
                text: 'Bandwidth'
            },
            legend: {
                layout: 'vertical',
                align: 'left',
                verticalAlign: 'top',
                x: 150,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor: '#FFFFFF'
            },
            xAxis: {
                categories: [
                    '0.0-2.0 sec',
                    '2.0-4.0 sec',
                    '4.0-6.0 sec',
                    '6.0-8.0 sec',
                    '8.0-10.0 sec'
                   
                ],
                plotBands: [{ // visualize the weekend
                    from: -0.4,
                    to: 6.4,
                    color: 'rgba(68, 170, 213, .2)'
                }]
            },
            yAxis: {
                title: {
                    text: 'Bandwidth (Mbps)'
                }
            },
            tooltip: {
                shared: true,
                valueSuffix: ' Mbps'
            },
            credits: {
                enabled: false
            },
            plotOptions: {
                areaspline: {
                    fillOpacity: 0.5
                }
            },
            series: [{
                name: 'Interval measurements',
                data: [<%=banwidth[0]%>,<%=banwidth[1]%>, <%=banwidth[2]%>, <%=banwidth[3]%>, <%=banwidth[4]%> ]
            }, {
                name: 'Average measurement',
                data: [<%=average%>, <%=average%>, <%=average%>, <%=average%>, <%=average%>]
            }]
        });
    });
    
</script>

<table class="table">  
  <thead>  
    <tr>  
      <th>Id</th>
      <th>Interval</th>  
      <th>Data Transferred</th>  
      <th>Bandwidth</th>  
    </tr>  
  </thead>  
  <tbody>  
    <tr>  
      <td>1</td>  
      <td><%=(interval[0] || '') %></td>  
      <td><%=(transfer[0] ||'') %></td>  
      <td><%=(banwidth[0] ) %> Mbps</td>  
    </tr>  
    <tr>  
      <td>2</td>  
      <td><%=(interval[1] || '') %></td>  
      <td><%=(transfer[1] ||'') %></td>  
      <td><%=(banwidth[1] ) %> Mbps</td> 
    </tr>  
    <tr>  
      <td>3</td>  
      <td><%=(interval[2] || '') %></td>  
      <td><%=(transfer[2] ||'') %></td>  
      <td><%=(banwidth[2] ) %> Mbps</td> 
    </tr>  
    <tr>  
      <td>4</td>  
      <td><%=(interval[3] || '') %></td>  
      <td><%=(transfer[3] ||'') %></td>  
      <td><%=(banwidth[3] ) %> Mbps</td> 
    </tr> 
    <tr>  
      <td>5</td>  
      <td><%=(interval[4] || '') %></td>  
      <td><%=(transfer[4] ||'') %></td>  
      <td><%=(banwidth[4] ) %> Mbps</td> 
    </tr>
    <tr>  
      <td></td>  
      <td></td>  
      <td><h4>Average</h4></td>  
      <td><h4><%=(average || '') %> Mbps </h4></td> 
    </tr>
  </tbody>  
</table>